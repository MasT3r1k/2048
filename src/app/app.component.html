<div class="centered" [ngStyle]="{ width: Game.getConfig().gameWidth + 'px' }">
  <header>
    <h2>2048</h2>
    <p (click)="Game.startGame()">New Game</p>
  </header>
  <main>
    <div
      class="game"
      [ngStyle]="{
        width: Game.getConfig().gameWidth + 'px',
        height: Game.getConfig().gameWidth + 'px'
      }"
    >
      <div
        class="tile tile-background no-animation"
        *ngFor="let tile of Game.getAllEmptyTiles()"
        [ngStyle]="{
          translate:
            Game.getConfig().tileMargin * (tile.x + 1) +
            getMath().floor(tile.x) * Game.getTileSize() +
            'px ' +
            (Game.getConfig().tileMargin * (getMath().floor(tile.y) + 1) +
              getMath().floor(tile.y) * Game.getTileSize()) +
            'px',

          width: Game.getTileSize() + 'px',
          height: Game.getTileSize() + 'px',

          backgroundColor: tileTypes[0].background,
          color: tileTypes[0].color
        }"
      ></div>

      <div
        [ngClass]="{
          tile: true,
          'tile-background': tile.num === 0,
          'no-animation': tile.num === 0
        }"
        *ngFor="let tile of Game.getUsedTiles()"
        [ngStyle]="{
          translate:
            Game.getConfig().tileMargin * (tile.x + 1) +
            getMath().floor(tile.x) * Game.getTileSize() +
            'px ' +
            (Game.getConfig().tileMargin * (getMath().floor(tile.y) + 1) +
              getMath().floor(tile.y) * Game.getTileSize()) +
            'px',

          width: Game.getTileSize() + 'px',
          height: Game.getTileSize() + 'px',

          backgroundColor: tileTypes[tile.num].background,
          color: tileTypes[tile.num].color
        }"
      >
        {{ getMath().pow(2, tile.num) }}
      </div>
    </div>
  </main>
  <footer></footer>
</div>
